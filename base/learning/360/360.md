# 360度画像の表示とバーチャル展示
本資料では、A-Frameを用いた一枚の360度画像の表示とMatter portを用いたVR展示の手順を解説します。

**Menu**
-----
- A-Frame
- Matter port

-----

## A-Frame
A-Frameは、3D/AR/VR コンテンツを作成するためのオープンソースのwebフレームワークです。[https://aframe.io/](https://aframe.io/)では、A-Frameの適用例が紹介されている。ここでは、次の[ソースコード](https://github.com/aframevr/aframe/blob/v1.0.4/examples/boilerplate/panorama/index.html)を参考に360度画像をWeb上で表示する手法を解説する。

### HTMLファイルの作成
まずは、以下のコードをテキストエディタにコピペし、ファイルを`360.html`などとして保存する。A-Frameの読み込みには、<script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>を使用する。

```html
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>360 sample</title>
    <meta name="description" content="360&deg; Image - A-Frame">
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
  </head>
  <body>
  </body>
</html>

```

360度画像の表示には、GIS-OER WGが公開しているものを使用するため、表示したい画像を[GIS-OER]()のページから探し、任意の画像の`Source`アイコンをクリックする。以下では、`愛知川の河畔林`の画像を使用するため、URL（https://gis-oer.github.io/photos/si/img/si_echigawakahanrin.JPG）をコピーする。この画像は、ドローンで撮影した複数枚の写真を合成したものであるが、元画像は精細すぎるため、5376×2688にリサイズしている。

次のコードを<body></body>の間に挿入し、上書き保存して、ブラウザで360.htmlを開くと画像が表示される。

```
    <a-scene>
      <a-sky src="https://gis-oer.github.io/photos/si/img/si_echigawakahanrin.JPG" rotation="0 0 0"></a-sky>
    </a-scene>
```
rotation="0 0 0"は、オイラー角となる。例えば、rotation="90 0 0"とすると真下を向き、rotation="0 -90 0"とすれば左方向に90度傾く。

A-Frameで360度画像を実装したwebページをスマートフォンで開くと、デフォルトでスマートフォンのジャイロセンサーと連動した表示ができる。iPhoneなどでは、ジャイロセンサーの使用の許可が表示されるため、`Allow`してから利用する。

## Matterport
